# midi-wave-converter
https://hmoriz.github.io/midi-wave-converter/release  
ブラウザ上でシンセサイズしてMIDIをwaveに変換させるwebツール(Parcelを使ってます)  
ブラウザ上で再生することができなくなってしまったMIDIの音を、 ゲイツシンセとも言われている Microsoft GS Wavetable SW Synth をできるだけ再現しながらwaveとして再生可能なものにします。
現時点では進行中のフレーム回しみたいな対応をやってない都合でパッと見フリーズを起こすので、 デベロッパーコンソールを開いて動作させることを強く推奨します(ただし、 ゴミログがめちゃくちゃ多い点に注意)

## 使い方

1. gm.dls のファイル選択を開いて Windowsの C:¥Windows¥System32¥drivers の中に入っていると思われる「gm.dls」を選ぶ
2. 好きなMIDIファイルを選ぶ。 なお現バージョンでは「GM音源」以外のファイルが選択されると高確率で出力がバグってものすごい大音を発するケースがあるので注意してください
3. 待つ。 ブラウザはフリーズしてますがデベロッパーコンソール上ではログが動いていると思いますので待つ。
4. 生成されたものは `<audio>` で表示されるのであとは好きにしてください

## 注意点

* Windowsでの動作を想定していますが、 生成されるものがWAVEファイルなためgm.dlsさえ持っていればたぶんWindows以外でも動作します。
* 所詮1人の個人がその場の勢いで作成したものなため、 正しい動作の保証は一切できないです。
* 作者は「シミュレーションRPG95のサンプルのBGM」で多少の動作確認をしてます。
* このツールを用いて生成されたwavファイルの使用許諾みたいなのはもとのMIDIファイルが配布されてたサイト等の規則に従ってください。 それをweb上にアップロードして作者と問題が発生した場合このツールの作者は何も対応できません。

## TODO

(プルリクエスト投げてくれるとすごく嬉しいな)

* 進捗をブラウザで表示させられるようにする(フリーズ回避)
* リバーブとコーラスはまだできてないです。 ゲイツシンセはとにかくDirectSoundはこれくらいできてるのでいずれ実装したい
* 補間法が雑に線形なためプツプツ音が混ざるケースが結構あるのでそこを何とかする
* XG対応
* その他Windows Media Playerと明らかに異なる部分の修正

## その他

* [Timidity++](http://timidity.sourceforge.net/) というみんな知っているであろう偉大なるツールと非公式ながらかなり洗練され2020年になってもなお更新が入っているらしい [Timidity41](https://ja.osdn.net/projects/timidity41/) というツールをかなり参考にしてます。 感謝
